(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2921],{50304:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/watchlist",function(){return t(660)}])},660:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z});var r=t(74848);t(17537);var a=t(96540),l=t(15471),o=t(83328),n=t(41826),c=t(15183),i=t(57139),d=t(21875),h=t(39845),m=t(75798),x=t(30945),f=t(46122),g=t(4039),u=t(11718),b=t(62989),p=t(39749);let j=p.bL,v=p.l9,w=p.UC,y=p.q7;var N=t(33362),C=t(22732),k=t(6802);let A=(0,C.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),S=a.forwardRef((e,s)=>{let{className:t,variant:a,size:l,asChild:o=!1,...n}=e,c=o?N.DX:"button";return(0,r.jsx)(c,{className:(0,k.cn)(A({variant:a,size:l,className:t})),ref:s,...n})});S.displayName="Button";let _=t(26576).bL,E=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,k.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});E.displayName="Card";let T=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,k.cn)("flex flex-col space-y-1.5 p-6",t),...a})});T.displayName="CardHeader";let R=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,k.cn)("font-semibold leading-none tracking-tight",t),...a})});R.displayName="CardTitle";let F=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,k.cn)("text-sm text-muted-foreground",t),...a})});F.displayName="CardDescription";let P=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,k.cn)("p-6 pt-0",t),...a})});P.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,k.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter";let W=a.forwardRef((e,s)=>{let{className:t,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,k.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});W.displayName="Input";let{wv:O}=p,L={symbol:"AAPL",price:150.23,change:2.5,changePercent:1.67,companyName:"Apple Inc.",exchange:"NASDAQ",industry:"Technology",lastUpdated:"2024-01-19 16:00:00",previousClose:148.5,open:151,dayLow:149.75,dayHigh:152.5,volume:1e6,marketCap:25e11,peRatio:30.5,eps:4.9,dividendYield:.005,beta:1.2,fiftyTwoWeekHigh:175,fiftyTwoWeekLow:130,employees:15e4,headquarters:"Cupertino, CA",description:"Apple Inc. designs, manufactures, and markets smartphones, personal computers, tablets, wearables, and accessories.",ceo:"Tim Cook"};function z(){let[e,s]=a.useState(!1),[t,p]=a.useState(!1),[N,C]=a.useState(""),[k,A]=a.useState(""),[z,D]=a.useState([]),[I,q]=a.useState([]),[H,X]=a.useState([]);a.useEffect(()=>{(async()=>{try{let e=await fetch("/watchlists");if(e.ok){let s=await e.json();X(s)}else console.error("Failed to fetch watchlists")}catch(e){console.error("Error fetching watchlists:",e)}})()},[]);let B=()=>{s(!e)},J=async e=>{if(e)try{let s=await fetch("/api/get_stock_suggestions?query=".concat(e));if(s.ok){let e=await s.json();D(e)}else console.error("Failed to fetch suggestions")}catch(e){console.error("Error fetching suggestions:",e)}else D([])},U=async e=>{try{let t=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbols:[e]})});if(t.ok){let e=await t.json();q(s=>[...s,...e]),s(!1)}else console.error("Failed to add to watchlist")}catch(e){console.error("Error adding to watchlist:",e)}},M=async e=>{e.preventDefault();try{(await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:k})})).ok?(console.log("Watchlist created successfully"),p(!1)):console.error("Failed to create watchlist")}catch(e){console.error("Error creating watchlist:",e)}};return(0,r.jsxs)("main",{className:"flex h-screen text-white bg-[#1a1a1a]",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-[#333333]",children:[(0,r.jsx)("div",{className:"flex items-center gap-2 relative",children:(0,r.jsxs)(j,{children:[(0,r.jsx)(v,{asChild:!0,children:(0,r.jsxs)("button",{className:"flex items-center gap-2 text-lg font-semibold bg-transparent hover:bg-[#333333] text-white p-2 rounded-md",children:["Watchlist",(0,r.jsx)(o.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(w,{className:"w-56 bg-[#1a1a1a] border-[#333333] text-white",children:[H.map(e=>(0,r.jsx)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:e.name},e.name)),(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Share list"}),(0,r.jsx)(_,{})]}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),"Create alert on list...",(0,r.jsx)("span",{className:"ml-2 text-xs bg-yellow-500 text-black px-1 rounded",children:"NEW"})]}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),"Make a copy..."]}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),"Rename"]}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),"Add section"]}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),"Clear list"]}),(0,r.jsx)(O,{className:"bg-[#333333]"}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",onClick:()=>p(!0),children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),"Create new list..."]}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),"Import list..."]}),(0,r.jsxs)(y,{className:"hover:bg-[#333333] focus:bg-[#333333]",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),"Open list..."]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{className:"p-2 hover:bg-[#333333] rounded-md",onClick:B,children:(0,r.jsx)(u.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{className:"p-2 hover:bg-[#333333] rounded-md",children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 px-4 py-2 text-sm text-gray-400 border-b border-[#333333]",children:[(0,r.jsx)("div",{children:"Symbol"}),(0,r.jsx)("div",{className:"text-right",children:"Last"}),(0,r.jsx)("div",{className:"text-right",children:"Chg"}),(0,r.jsx)("div",{className:"text-right",children:"Chg%"})]}),(0,r.jsx)("div",{className:"flex-1 overflow-auto",children:I.map(e=>(0,r.jsxs)("div",{className:"grid grid-cols-4 px-4 py-2 text-sm hover:bg-[#242424] cursor-pointer",children:[(0,r.jsx)("div",{children:e.symbol}),(0,r.jsx)("div",{className:"text-right",children:e.last}),(0,r.jsx)("div",{className:"text-right",style:{color:0>parseFloat(e.chg)?"#ff4d4d":"#00ff88"},children:e.chg}),(0,r.jsxs)("div",{className:"text-right",style:{color:0>parseFloat(e.chgPercent)?"#ff4d4d":"#00ff88"},children:[e.chgPercent,"%"]})]},e.symbol))}),e&&(0,r.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#1a1a1a] p-6 rounded-md shadow-lg border border-[#333333]",children:(0,r.jsxs)(E,{children:[(0,r.jsxs)(T,{children:[(0,r.jsx)(R,{children:"Add Symbol to Watchlist"}),(0,r.jsx)(F,{children:"Enter the symbol to add to the watchlist."})]}),(0,r.jsxs)(P,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(W,{type:"text",placeholder:"Search stocks...",value:N,onChange:e=>{let s=e.target.value;C(s),J(s)},className:"bg-[#242424] border border-[#333333] rounded-md px-2 py-1 text-sm focus:outline-none w-64"}),(0,r.jsx)("button",{className:"p-2 hover:bg-[#333333] rounded-md",onClick:()=>{""!==N.trim()&&U(N)},children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})]}),z.length>0&&(0,r.jsx)("ul",{className:"mt-2 w-64 bg-[#1a1a1a] border border-[#333333] rounded-md shadow-md z-10",children:z.map(e=>(0,r.jsxs)("li",{className:"px-4 py-2 text-sm hover:bg-[#333333] cursor-pointer",onClick:()=>U(e.symbol),children:[e.name," (",e.symbol,")"]},e.symbol))}),(0,r.jsx)("button",{onClick:B,className:"mt-4 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Close"})]})]})}),t&&(0,r.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#1a1a1a] p-6 rounded-md shadow-lg border border-[#333333]",children:(0,r.jsxs)(E,{children:[(0,r.jsxs)(T,{children:[(0,r.jsx)(R,{children:"Create New Watchlist"}),(0,r.jsx)(F,{children:"Enter the name for the new watchlist."})]}),(0,r.jsx)(P,{children:(0,r.jsxs)("form",{onSubmit:M,className:"flex flex-col gap-4",children:[(0,r.jsx)(W,{type:"text",placeholder:"Watchlist name",className:"bg-[#242424] border border-[#333333] rounded-md px-2 py-1 text-sm focus:outline-none w-full",onChange:e=>A(e.target.value)}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(S,{type:"submit",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Create"}),(0,r.jsx)("button",{type:"button",onClick:()=>p(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Close"})]})]})})]})})]}),(0,r.jsx)("div",{className:"w-[350px] bg-[#1a1a1a] border-l border-[#333333]",children:(0,r.jsx)(l.B,{currentStock:L})})]})}},17537:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[347,1647,4743,9468,7003,5471,636,6593,8792],()=>s(50304)),_N_E=e.O()}]);