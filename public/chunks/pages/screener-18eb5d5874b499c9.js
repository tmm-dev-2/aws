(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4745],{20642:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/screener",function(){return a(20912)}])},20912:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var d=a(74848),r=a(460),c=a.n(r),t=a(96540),l=a(14342);function n(){let[e,s]=(0,t.useState)([]),[a,r]=(0,t.useState)(null),n=async(e,a,d,c)=>{try{let t=await fetch("/api/runScreener",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formula:e,country:a,segment:d,timeframe:c})});if(!t.ok){let e=await t.json();throw Error("API error! status: ".concat(t.status,", message: ").concat(e.error))}let l=(await t.json()).results;s(l.filtered_symbols),r(l.segment_data)}catch(e){console.error("Error during screener submit:",e)}};return(0,d.jsxs)("div",{className:"jsx-c0f87d71877d4a49 screener-page",children:[(0,d.jsx)(l.ScreenerBuilder,{onScreenerSubmit:n}),(0,d.jsxs)("div",{className:"jsx-c0f87d71877d4a49 results-section",children:[(0,d.jsx)("h2",{className:"jsx-c0f87d71877d4a49",children:"Screener Results"}),(0,d.jsxs)("div",{className:"jsx-c0f87d71877d4a49 results-header",children:[(0,d.jsxs)("span",{className:"jsx-c0f87d71877d4a49",children:["Found ",e.length," matches"]}),a&&(0,d.jsxs)("span",{className:"jsx-c0f87d71877d4a49",children:[a.country," - ",a.segment]})]}),(0,d.jsx)("div",{className:"jsx-c0f87d71877d4a49 results-grid",children:e.map(e=>{let s=null==a?void 0:a.data[e];return(0,d.jsxs)("div",{className:"jsx-c0f87d71877d4a49 stock-result",children:[(0,d.jsx)("h3",{className:"jsx-c0f87d71877d4a49",children:e}),s&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"jsx-c0f87d71877d4a49",children:["Last Price: ",s.close[s.close.length-1]]}),(0,d.jsxs)("div",{className:"jsx-c0f87d71877d4a49",children:["Volume: ",s.volume[s.volume.length-1]]}),s.close.length>1&&(0,d.jsxs)("div",{className:"jsx-c0f87d71877d4a49",children:["Change: ",((s.close[s.close.length-1]-s.close[s.close.length-2])/s.close[s.close.length-2]*100).toFixed(2),"%"]})]})]},e)})})]}),(0,d.jsx)(c(),{id:"c0f87d71877d4a49",children:".screener-page.jsx-c0f87d71877d4a49{padding:20px;background:#1e222d;min-height:100vh}.results-section.jsx-c0f87d71877d4a49{margin-top:20px;background:#2a2e39;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:20px}.results-header.jsx-c0f87d71877d4a49{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:20px;color:#e0e3eb}.results-grid.jsx-c0f87d71877d4a49{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}.stock-result.jsx-c0f87d71877d4a49{padding:15px;background:#363c4e;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;color:#e0e3eb}.stock-result.jsx-c0f87d71877d4a49 h3.jsx-c0f87d71877d4a49{margin:0 0 10px 0;color:#2962ff}"})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4342,636,6593,8792],()=>s(20642)),_N_E=e.O()}]);